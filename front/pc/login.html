<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <title>学生认证</title>

    <link rel="stylesheet" href="css/login.css">

</head>

<body>
    <div class="cont_principal">
        <div class="top">
            <div class="w">
                <img src="images/logo2.png" />
                <h2>
                    生命科学学院宣传网
                </h2>
            </div>
        </div>
        <div class="cont_centrar2">
            <div class="cont_login">
                <div action="">
                    <div class="cont_tabs_login w">
                        <P>学生认证</P>
                    </div>
                    <div class="cont_text_inputs">
                        <input type="text" class="input_form_sign" placeholder="NAME" id="realname">

                        <input type="text" maxlength="10" class="input_form_sign d_block active_inp" placeholder="登录名"
                            id="username">

                        <input type="password" maxlength="10" class="input_form_sign d_block active_inp"
                            placeholder="学号" id="password">

                        <input type="password" maxlength="10" class="input_form_sign" placeholder="确认学号"
                            id="conf_password">


                        <input type="text" maxlength="10" class="input_form_sign" placeholder="验证码" id="captcha">

                        <canvas style="margin-left:20%" id="textCanvas" height="30" width="100"></canvas>

                        <a href="#" class="link_forgot_pass d_block">忘了 ?</a>

                        <div class="terms_and_cons d_none">
                            <p class="d_none"><input type="checkbox" name="terms_and_cons">
                                <label for="terms_and_cons">Accept Terms and Conditions.</label>
                            </p>

                        </div>
                    </div>
                    <div class="cont_btn">
                        <button class="btn_sign" id="btn_sign" onclick="submit1()">登录</button>

                    </div>

                </div>
            </div>

        </div>


    </div>

    <script src="js/jquery.min.js"></script>
    <script>function makeid(e) { for (var t = "", n = "ABCDEFGHIJKLMNOPQRSTUVWXYZ", o = 0; o < e; o++)t += n.charAt(Math.floor(Math.random() * n.length)); return t } function cc() { var e = document.getElementById("textCanvas"), t = e.getContext("2d"); t.clearRect(0, 0, e.width, e.height), t.font = "1.6em Verdana", cap = makeid(4), confuse = makeid(11) + cap[2] + makeid(4) + cap[1] + makeid(7) + cap[3] + makeid(7) + cap[0] + makeid(7), t.strokeText(cap, 0, 20) } function sign_up() { cc(); var t = document.querySelectorAll(".input_form_sign"); document.querySelectorAll(".ul_tabs > li")[0].className = "", document.querySelectorAll(".ul_tabs > li")[1].className = "active", $("#textCanvas").show(), setTimeout(function () { for (var e = 0; e < t.length; e++)0 != e && (document.querySelectorAll(".input_form_sign")[e].className = "input_form_sign d_block active_inp") }, 100), document.querySelector(".link_forgot_pass").style.opacity = "0", document.querySelector(".link_forgot_pass").style.top = "-5px", document.querySelector(".btn_sign").innerHTML = "注册", setTimeout(function () { }, 300), setTimeout(function () { document.querySelector(".link_forgot_pass").className = "link_forgot_pass d_none", document.querySelector(".terms_and_cons").className = "terms_and_cons d_block d_none" }, 350) } function sign_in() { var e = document.querySelectorAll(".input_form_sign"); document.querySelectorAll(".ul_tabs > li")[0].className = "active", document.querySelectorAll(".ul_tabs > li")[1].className = "", $("#textCanvas").hide(); for (var t = 0; t < e.length; t++)switch (t) { case 1: case 2: console.log(e[t].name); break; default: document.querySelectorAll(".input_form_sign")[t].className = "input_form_sign d_none" }document.querySelector(".btn_sign").innerHTML = "登录" } function submit1(e) { return "登录" === document.querySelector(".btn_sign").innerHTML ? postLoginRequest() : postRegisterRequest(), !1 } function preEnterHomepage(e, t, n) { sessionStorage.clear(), sessionStorage.username = n } function postLoginRequest() { console.log("login"); var o = $("#username").val(), e = $("#password").val(); 0 !== o.length ? 0 !== e.length ? $.ajax({ url: "/api/mgr/signin", type: "POST", data: "username=" + o + "&password=" + e, success: function (e, t, n) { 0 === e.ret ? (preEnterHomepage(e, n, o), window.location.href = "/mgr/index_1.html") : (alert("登录失败 : " + e.msg), $("#password").val("")) }, error: function (e, t, n) { alert("错误: " + e.status + n) } }) : alert("请输入学号") : alert("请输入用户名") }</script>

</body>

</html>